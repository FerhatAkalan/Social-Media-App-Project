{"ast":null,"code":"import i18n from \"i18next\";\nimport { initReactI18next } from \"react-i18next\";\nimport { fetchTranslationFromAPI } from \"../src/api/apiCalls\";\nimport { register } from \"timeago.js\";\nimport axios from \"axios\";\ni18n.use(initReactI18next).init({\n  resources: {},\n  fallbackLng: \"en\",\n  ns: [\"translations\"],\n  defaultNS: \"translations\",\n  keySeperator: false,\n  interpolation: {\n    escapeValue: false,\n    formatSeperator: \",\"\n  },\n  react: {\n    wait: true\n  }\n});\nasync function loadTranslations(language) {\n  i18n.options.resources[language] = i18n.options.resources[language] || {};\n  const translationKeys = await fetchTranslationKeysFromAPI(language);\n  const translations = {};\n  for (const key of translationKeys) {\n    const text = await fetchTranslationFromAPI(key, language);\n    translations[key] = text;\n  }\n  i18n.addResourceBundle(language, \"translations\", translations, true, true);\n}\nasync function fetchTranslationKeysFromAPI(language) {\n  try {\n    const response = await axios.get(`/api/i18n/keys`, {\n      params: {\n        language: language\n      }\n    });\n    return response.data;\n  } catch (error) {\n    console.error(\"Error fetching translation keys:\", error);\n    return [];\n  }\n}\ni18n.on(\"languageChanged\", lng => {\n  loadTranslations(lng);\n});\n\n// Timeago dil desteği ekleme\nconst timeagoTR = (number, index) => {\n  // ... zaman ifadeleri\n};\nregister(\"tr\", timeagoTR);\n\n// Varsayılan olarak İngilizce metinleri yükle\nloadTranslations(\"en\");\nexport default i18n;","map":{"version":3,"names":["i18n","initReactI18next","fetchTranslationFromAPI","register","axios","use","init","resources","fallbackLng","ns","defaultNS","keySeperator","interpolation","escapeValue","formatSeperator","react","wait","loadTranslations","language","options","translationKeys","fetchTranslationKeysFromAPI","translations","key","text","addResourceBundle","response","get","params","data","error","console","on","lng","timeagoTR","number","index"],"sources":["C:/Users/Ferhat/ws-project/wsfrontend/src/i18n.js"],"sourcesContent":["import i18n from \"i18next\";\r\nimport { initReactI18next } from \"react-i18next\";\r\nimport { fetchTranslationFromAPI } from \"../src/api/apiCalls\";\r\nimport { register } from \"timeago.js\";import axios from \"axios\";\r\n\r\ni18n.use(initReactI18next).init({\r\n  resources: {},\r\n  fallbackLng: \"en\",\r\n  ns: [\"translations\"],\r\n  defaultNS: \"translations\",\r\n  keySeperator: false,\r\n  interpolation: {\r\n    escapeValue: false,\r\n    formatSeperator: \",\",\r\n  },\r\n  react: {\r\n    wait: true,\r\n  },\r\n});\r\n\r\nasync function loadTranslations(language) {\r\n  i18n.options.resources[language] = i18n.options.resources[language] || {};\r\n  const translationKeys = await fetchTranslationKeysFromAPI(language);\r\n\r\n  const translations = {};\r\n\r\n  for (const key of translationKeys) {\r\n    const text = await fetchTranslationFromAPI(key, language);\r\n    translations[key] = text;\r\n  }\r\n\r\n  i18n.addResourceBundle(language, \"translations\", translations, true, true);\r\n}\r\n\r\nasync function fetchTranslationKeysFromAPI(language) {\r\n  try {\r\n    const response = await axios.get(`/api/i18n/keys`, {\r\n      params: {\r\n        language: language,\r\n      },\r\n    });\r\n    return response.data;\r\n  } catch (error) {\r\n    console.error(\"Error fetching translation keys:\", error);\r\n    return [];\r\n  }\r\n}\r\n\r\ni18n.on(\"languageChanged\", (lng) => {\r\n  loadTranslations(lng);\r\n});\r\n\r\n// Timeago dil desteği ekleme\r\nconst timeagoTR = (number, index) => {\r\n  // ... zaman ifadeleri\r\n};\r\nregister(\"tr\", timeagoTR);\r\n\r\n// Varsayılan olarak İngilizce metinleri yükle\r\nloadTranslations(\"en\");\r\n\r\nexport default i18n;\r\n"],"mappings":"AAAA,OAAOA,IAAI,MAAM,SAAS;AAC1B,SAASC,gBAAgB,QAAQ,eAAe;AAChD,SAASC,uBAAuB,QAAQ,qBAAqB;AAC7D,SAASC,QAAQ,QAAQ,YAAY;AAAC,OAAOC,KAAK,MAAM,OAAO;AAE/DJ,IAAI,CAACK,GAAG,CAACJ,gBAAgB,CAAC,CAACK,IAAI,CAAC;EAC9BC,SAAS,EAAE,CAAC,CAAC;EACbC,WAAW,EAAE,IAAI;EACjBC,EAAE,EAAE,CAAC,cAAc,CAAC;EACpBC,SAAS,EAAE,cAAc;EACzBC,YAAY,EAAE,KAAK;EACnBC,aAAa,EAAE;IACbC,WAAW,EAAE,KAAK;IAClBC,eAAe,EAAE;EACnB,CAAC;EACDC,KAAK,EAAE;IACLC,IAAI,EAAE;EACR;AACF,CAAC,CAAC;AAEF,eAAeC,gBAAgBA,CAACC,QAAQ,EAAE;EACxClB,IAAI,CAACmB,OAAO,CAACZ,SAAS,CAACW,QAAQ,CAAC,GAAGlB,IAAI,CAACmB,OAAO,CAACZ,SAAS,CAACW,QAAQ,CAAC,IAAI,CAAC,CAAC;EACzE,MAAME,eAAe,GAAG,MAAMC,2BAA2B,CAACH,QAAQ,CAAC;EAEnE,MAAMI,YAAY,GAAG,CAAC,CAAC;EAEvB,KAAK,MAAMC,GAAG,IAAIH,eAAe,EAAE;IACjC,MAAMI,IAAI,GAAG,MAAMtB,uBAAuB,CAACqB,GAAG,EAAEL,QAAQ,CAAC;IACzDI,YAAY,CAACC,GAAG,CAAC,GAAGC,IAAI;EAC1B;EAEAxB,IAAI,CAACyB,iBAAiB,CAACP,QAAQ,EAAE,cAAc,EAAEI,YAAY,EAAE,IAAI,EAAE,IAAI,CAAC;AAC5E;AAEA,eAAeD,2BAA2BA,CAACH,QAAQ,EAAE;EACnD,IAAI;IACF,MAAMQ,QAAQ,GAAG,MAAMtB,KAAK,CAACuB,GAAG,CAAE,gBAAe,EAAE;MACjDC,MAAM,EAAE;QACNV,QAAQ,EAAEA;MACZ;IACF,CAAC,CAAC;IACF,OAAOQ,QAAQ,CAACG,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,kCAAkC,EAAEA,KAAK,CAAC;IACxD,OAAO,EAAE;EACX;AACF;AAEA9B,IAAI,CAACgC,EAAE,CAAC,iBAAiB,EAAGC,GAAG,IAAK;EAClChB,gBAAgB,CAACgB,GAAG,CAAC;AACvB,CAAC,CAAC;;AAEF;AACA,MAAMC,SAAS,GAAGA,CAACC,MAAM,EAAEC,KAAK,KAAK;EACnC;AAAA,CACD;AACDjC,QAAQ,CAAC,IAAI,EAAE+B,SAAS,CAAC;;AAEzB;AACAjB,gBAAgB,CAAC,IAAI,CAAC;AAEtB,eAAejB,IAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}