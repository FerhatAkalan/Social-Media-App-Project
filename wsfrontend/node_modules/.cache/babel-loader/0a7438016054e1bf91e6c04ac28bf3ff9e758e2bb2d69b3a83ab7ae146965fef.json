{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ferhat\\\\ws-project\\\\wsfrontend\\\\src\\\\pages\\\\LoginPage.js\";\nimport React, { Component } from \"react\";\nimport Input from \"../components/Input\";\nimport { withTranslation } from \"react-i18next\";\nimport { login } from \"../api/apiCalls\";\nimport ButtonWithProgress from \"./ButtonWithProgress\";\nimport ApiProgress, { withApiProgress } from \"../shared/ApiProgress\";\n//import { Authentication } from \"../shared/AuthenticationContext\";\nimport background from \"../assets/background1.jpg\";\nimport styled from \"styled-components\";\nimport user from \"../assets/vector.png\";\nimport { connect } from \"react-redux\";\nimport { loginSuccess } from \"../redux/authActions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass LoginPage extends Component {\n  constructor() {\n    super(...arguments);\n    //static contextType = Authentication;\n    this.state = {\n      username: null,\n      password: null,\n      error: null\n    };\n    this.onChange = event => {\n      const {\n        name,\n        value\n      } = event.target;\n      this.setState({\n        [name]: value,\n        error: null\n      });\n    };\n    this.onClickLogin = async event => {\n      event.preventDefault();\n      const {\n        username,\n        password\n      } = this.state;\n      const onLoginSuccess = () => {};\n      const creds = {\n        username,\n        password\n      };\n      const {\n        push\n      } = this.props.history;\n      this.setState({\n        error: null\n      });\n      try {\n        const response = await login(creds);\n        push(\"/\");\n        const authState = {\n          ...response.data,\n          password\n        };\n\n        // onLoginSuccess(authState);\n        const action = {\n          type: \"login-success\",\n          payload: authState\n        };\n        this.props.dispatch(action);\n      } catch (apiError) {\n        this.setState({\n          error: apiError.response.data.message\n        });\n      }\n    };\n  }\n  render() {\n    const {\n      t,\n      pendingApiCall\n    } = this.props;\n    const {\n      username,\n      password,\n      error\n    } = this.state;\n    const buttonEnabled = username && password;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundImage: `url(${background})`,\n        backgroundSize: \"cover\",\n        backgroundPosition: \"center center\",\n        height: \"85vh\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        width: \"100%\",\n        backgroundColor: \"rgba(192, 192, 192, 1)\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        style: {\n          display: \"block\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          backgroundColor: \"rgba(255, 255, 255, 0.82)\",\n          padding: \"30px\",\n          borderRadius: \"20px\",\n          width: \"500px\",\n          height: \"500px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-center mt-1\",\n            children: t(\"LOGIN\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: user,\n            style: {\n              height: \"100px\",\n              width: \"100px\",\n              position: \"relative\",\n              borderRadius: \"50px\",\n              marginLeft: \"170px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            label: t(\"Username\"),\n            name: \"username\",\n            onChange: this.onChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            label: t(\"Password\"),\n            name: \"password\",\n            type: \"password\",\n            onChange: this.onChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"alert alert-danger mt-3\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"https://github.com/FerhatAkalan\",\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            className: \"text-decoration-none\",\n            children: t(\"Forget Password?\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center mt-3\",\n            children: /*#__PURE__*/_jsxDEV(ButtonWithProgress, {\n              onClick: this.onClickLogin,\n              disabled: !buttonEnabled || pendingApiCall,\n              pendingApiCall: pendingApiCall,\n              text: t(\"Login\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 7\n    }, this);\n  }\n}\nconst mapDispatchToProps = dispatch => {\n  return {\n    onLoginSuccess: authState => dispatch(loginSuccess(authState))\n  };\n};\nconst LoginPageWithTranslation = withTranslation()(LoginPage);\nexport default connect(null, mapDispatchToProps)(withApiProgress(LoginPageWithTranslation, \"/api/1.0/auth\"));","map":{"version":3,"names":["React","Component","Input","withTranslation","login","ButtonWithProgress","ApiProgress","withApiProgress","background","styled","user","connect","loginSuccess","jsxDEV","_jsxDEV","LoginPage","constructor","arguments","state","username","password","error","onChange","event","name","value","target","setState","onClickLogin","preventDefault","onLoginSuccess","creds","push","props","history","response","authState","data","action","type","payload","dispatch","apiError","message","render","t","pendingApiCall","buttonEnabled","style","backgroundImage","backgroundSize","backgroundPosition","height","display","alignItems","justifyContent","width","backgroundColor","children","className","padding","borderRadius","fileName","_jsxFileName","lineNumber","columnNumber","src","position","marginLeft","label","href","rel","onClick","disabled","text","mapDispatchToProps","LoginPageWithTranslation"],"sources":["C:/Users/Ferhat/ws-project/wsfrontend/src/pages/LoginPage.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport Input from \"../components/Input\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { login } from \"../api/apiCalls\";\r\nimport ButtonWithProgress from \"./ButtonWithProgress\";\r\nimport ApiProgress, { withApiProgress } from \"../shared/ApiProgress\";\r\n//import { Authentication } from \"../shared/AuthenticationContext\";\r\nimport background from \"../assets/background1.jpg\";\r\nimport styled from \"styled-components\";\r\nimport user from \"../assets/vector.png\";\r\nimport { connect } from \"react-redux\";\r\nimport { loginSuccess } from \"../redux/authActions\";\r\n\r\nclass LoginPage extends Component {\r\n  //static contextType = Authentication;\r\n  state = {\r\n    username: null,\r\n    password: null,\r\n    error: null,\r\n  };\r\n\r\n  onChange = (event) => {\r\n    const { name, value } = event.target;\r\n    this.setState({\r\n      [name]: value,\r\n      error: null,\r\n    });\r\n  };\r\n\r\n  onClickLogin = async (event) => {\r\n    event.preventDefault();\r\n    const { username, password } = this.state;\r\n    const onLoginSuccess = () => {};\r\n    const creds = {\r\n      username,\r\n      password,\r\n    };\r\n\r\n    const { push } = this.props.history;\r\n\r\n    this.setState({\r\n      error: null,\r\n    });\r\n    try {\r\n      const response = await login(creds);\r\n      push(\"/\");\r\n\r\n      const authState = {\r\n        ...response.data,\r\n        password,\r\n      };\r\n\r\n      // onLoginSuccess(authState);\r\n      const action = {\r\n        type: \"login-success\",\r\n        payload: authState,\r\n      };\r\n      this.props.dispatch(action);\r\n    } catch (apiError) {\r\n      this.setState({\r\n        error: apiError.response.data.message,\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { t, pendingApiCall } = this.props;\r\n    const { username, password, error } = this.state;\r\n    const buttonEnabled = username && password;\r\n    return (\r\n      <div\r\n        style={{\r\n          backgroundImage: `url(${background})`,\r\n          backgroundSize: \"cover\",\r\n          backgroundPosition: \"center center\",\r\n          height: \"85vh\",\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"center\",\r\n          width: \"100%\",\r\n          backgroundColor: \"rgba(192, 192, 192, 1)\",\r\n        }}\r\n      >\r\n        <div\r\n          className=\"container\"\r\n          style={{\r\n            display: \"block\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            backgroundColor: \"rgba(255, 255, 255, 0.82)\",\r\n            padding: \"30px\",\r\n            borderRadius: \"20px\",\r\n            width: \"500px\",\r\n            height: \"500px\",\r\n          }}\r\n        >\r\n          <form>\r\n            <h1 className=\"text-center mt-1\">{t(\"LOGIN\")}</h1>\r\n            <img\r\n              src={user}\r\n              style={{\r\n                height: \"100px\",\r\n                width: \"100px\",\r\n                position: \"relative\",\r\n                borderRadius: \"50px\",\r\n                marginLeft: \"170px\",\r\n              }}\r\n            ></img>\r\n            <Input\r\n              label={t(\"Username\")}\r\n              name=\"username\"\r\n              onChange={this.onChange}\r\n            />\r\n            <Input\r\n              label={t(\"Password\")}\r\n              name=\"password\"\r\n              type=\"password\"\r\n              onChange={this.onChange}\r\n            />\r\n            {error && <div className=\"alert alert-danger mt-3\">{error}</div>}\r\n\r\n            <a\r\n              href=\"https://github.com/FerhatAkalan\"\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              className=\"text-decoration-none\"\r\n            >\r\n              {t(\"Forget Password?\")}\r\n            </a>\r\n            <div className=\"text-center mt-3\">\r\n              <ButtonWithProgress\r\n                onClick={this.onClickLogin}\r\n                disabled={!buttonEnabled || pendingApiCall}\r\n                pendingApiCall={pendingApiCall}\r\n                text={t(\"Login\")}\r\n              />\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapDispatchToProps = (dispatch) => {\r\n  return {\r\n    onLoginSuccess: (authState) => dispatch(loginSuccess(authState)),\r\n  };\r\n};\r\n\r\nconst LoginPageWithTranslation = withTranslation()(LoginPage);\r\nexport default connect(\r\n  null,\r\n  mapDispatchToProps\r\n)(withApiProgress(LoginPageWithTranslation, \"/api/1.0/auth\"));\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}