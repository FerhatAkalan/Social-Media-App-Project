{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ferhat\\\\ws-project\\\\wsfrontend\\\\src\\\\pages\\\\LoginPage.js\";\nimport React, { Component } from \"react\";\nimport Input from \"../components/Input\";\nimport { withTranslation } from \"react-i18next\";\nimport { login } from \"../api/apiCalls\";\nimport ButtonWithProgress from \"./ButtonWithProgress\";\nimport ApiProgress, { withApiProgress } from \"../shared/ApiProgress\";\nimport { Authentication } from \"../shared/AuthenticationContext\";\nimport background from \"../assets/background.jpg\";\nimport styled from \"styled-components\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass LoginPage extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      username: null,\n      password: null,\n      error: null\n    };\n    this.onChange = event => {\n      const {\n        name,\n        value\n      } = event.target;\n      this.setState({\n        [name]: value,\n        error: null\n      });\n    };\n    this.onClickLogin = async event => {\n      event.preventDefault();\n      const {\n        username,\n        password\n      } = this.state;\n      const {\n        onLoginSuccess\n      } = this.context;\n      const creds = {\n        username,\n        password\n      };\n      const {\n        push\n      } = this.props.history;\n      this.setState({\n        error: null\n      });\n      try {\n        const response = await login(creds);\n        push(\"/\");\n        const authState = {\n          ...response.data,\n          password\n        };\n        onLoginSuccess(authState);\n      } catch (apiError) {\n        this.setState({\n          error: apiError.response.data.message\n        });\n      }\n    };\n  }\n  render() {\n    const {\n      t,\n      pendingApiCall\n    } = this.props;\n    const {\n      username,\n      password,\n      error\n    } = this.state;\n    const buttonEnabled = username && password;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        backgroundImage: `url(${background})`\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        style: {\n          display: \"flex\",\n          alignItems: \"center\",\n          justifyContent: \"center\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-center mt-3\",\n            children: t(\"Login\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            label: t(\"Username\"),\n            name: \"username\",\n            onChange: this.onChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            label: t(\"Password\"),\n            name: \"password\",\n            type: \"password\",\n            onChange: this.onChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 13\n          }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"alert alert-danger mt-3\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center mt-3\",\n            children: /*#__PURE__*/_jsxDEV(ButtonWithProgress, {\n              onClick: this.onClickLogin,\n              disabled: !buttonEnabled || pendingApiCall,\n              pendingApiCall: pendingApiCall,\n              text: t(\"Login\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this);\n  }\n}\nLoginPage.contextType = Authentication;\nconst LoginPageWithTranslation = withTranslation()(LoginPage);\nexport default _c = withApiProgress(LoginPageWithTranslation, \"/api/1.0/auth\");\nvar _c;\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"names":["React","Component","Input","withTranslation","login","ButtonWithProgress","ApiProgress","withApiProgress","Authentication","background","styled","jsxDEV","_jsxDEV","LoginPage","constructor","arguments","state","username","password","error","onChange","event","name","value","target","setState","onClickLogin","preventDefault","onLoginSuccess","context","creds","push","props","history","response","authState","data","apiError","message","render","t","pendingApiCall","buttonEnabled","style","backgroundImage","children","className","display","alignItems","justifyContent","fileName","_jsxFileName","lineNumber","columnNumber","label","type","onClick","disabled","text","contextType","LoginPageWithTranslation","_c","$RefreshReg$"],"sources":["C:/Users/Ferhat/ws-project/wsfrontend/src/pages/LoginPage.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport Input from \"../components/Input\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { login } from \"../api/apiCalls\";\r\nimport ButtonWithProgress from \"./ButtonWithProgress\";\r\nimport ApiProgress, { withApiProgress } from \"../shared/ApiProgress\";\r\nimport { Authentication } from \"../shared/AuthenticationContext\";\r\nimport background from \"../assets/background.jpg\";\r\nimport styled from \"styled-components\";\r\n\r\nclass LoginPage extends Component {\r\n  static contextType = Authentication;\r\n  state = {\r\n    username: null,\r\n    password: null,\r\n    error: null,\r\n  };\r\n\r\n  onChange = (event) => {\r\n    const { name, value } = event.target;\r\n    this.setState({\r\n      [name]: value,\r\n      error: null,\r\n    });\r\n  };\r\n\r\n  onClickLogin = async (event) => {\r\n    event.preventDefault();\r\n    const { username, password } = this.state;\r\n    const { onLoginSuccess } = this.context;\r\n    const creds = {\r\n      username,\r\n      password,\r\n    };\r\n\r\n    const { push } = this.props.history;\r\n\r\n    this.setState({\r\n      error: null,\r\n    });\r\n    try {\r\n      const response = await login(creds);\r\n      push(\"/\");\r\n\r\n      const authState = {\r\n        ...response.data,\r\n        password,\r\n      };\r\n\r\n      onLoginSuccess(authState);\r\n    } catch (apiError) {\r\n      this.setState({\r\n        error: apiError.response.data.message,\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { t, pendingApiCall } = this.props;\r\n    const { username, password, error } = this.state;\r\n    const buttonEnabled = username && password;\r\n    return (\r\n      <div\r\n        style={{\r\n          backgroundImage: `url(${background})`,\r\n          \r\n        }}\r\n      >\r\n        <div\r\n          className=\"container\"\r\n          style={{\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n          }}\r\n        >\r\n          <form>\r\n            <h1 className=\"text-center mt-3\">{t(\"Login\")}</h1>\r\n            <Input\r\n              label={t(\"Username\")}\r\n              name=\"username\"\r\n              onChange={this.onChange}\r\n            />\r\n            <Input\r\n              label={t(\"Password\")}\r\n              name=\"password\"\r\n              type=\"password\"\r\n              onChange={this.onChange}\r\n            />\r\n            {error && <div className=\"alert alert-danger mt-3\">{error}</div>}\r\n            <div className=\"text-center mt-3\">\r\n              <ButtonWithProgress\r\n                onClick={this.onClickLogin}\r\n                disabled={!buttonEnabled || pendingApiCall}\r\n                pendingApiCall={pendingApiCall}\r\n                text={t(\"Login\")}\r\n              />\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst LoginPageWithTranslation = withTranslation()(LoginPage);\r\nexport default withApiProgress(LoginPageWithTranslation, \"/api/1.0/auth\");\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}