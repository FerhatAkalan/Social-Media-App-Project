{"ast":null,"code":"import * as ACTIONS from \"./Constants\";\nexport const saveLikedPostsToStorage = likedPosts => {\n  localStorage.setItem(\"likedPosts\", JSON.stringify(likedPosts));\n};\nconst loadLikedPostsFromStorage = () => {\n  const likedPosts = localStorage.getItem(\"likedPosts\");\n  return likedPosts ? JSON.parse(likedPosts) : {};\n};\nuseEffect(() => {\n  const likedPosts = loadLikedPostsFromStorage();\n  dispatch({\n    type: 'LIKE_POSTS_FROM_STORAGE',\n    payload: likedPosts\n  });\n}, []);\nconst defaultState = {\n  isLoggedIn: false,\n  username: undefined,\n  displayName: undefined,\n  image: undefined,\n  password: undefined,\n  admin: undefined,\n  likes: loadLikedPostsFromStorage()\n};\nconst authReducer = function () {\n  let state = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {\n    ...defaultState\n  };\n  let action = arguments.length > 1 ? arguments[1] : undefined;\n  if (action.type === ACTIONS.LOGOUT_SUCCES) {\n    return defaultState;\n  } else if (action.type === ACTIONS.LOGIN_SUCCES) {\n    return {\n      ...action.payload,\n      isLoggedIn: true,\n      likes: state.likes\n    };\n  } else if (action.type === ACTIONS.UPDATE_SUCCESS) {\n    return {\n      ...state,\n      ...action.payload\n    };\n  } else if (action.type === ACTIONS.UPDATE_ADMIN_STATUS) {\n    return {\n      ...state,\n      admin: action.payload.admin\n    };\n  } else if (action.type === \"LIKE_POST\") {\n    const postId = action.payload;\n    return {\n      ...state,\n      likes: {\n        ...state.likes,\n        [postId]: true // Beğeni durumunu güncelleyin\n      }\n    };\n  } else if (action.type === \"UNLIKE_POST\") {\n    const postId = action.payload;\n    const newLikes = {\n      ...state.likes\n    };\n    delete newLikes[postId];\n    return {\n      ...state,\n      likes: newLikes\n    };\n  }\n  return state;\n};\nexport default authReducer;","map":{"version":3,"names":["ACTIONS","saveLikedPostsToStorage","likedPosts","localStorage","setItem","JSON","stringify","loadLikedPostsFromStorage","getItem","parse","useEffect","dispatch","type","payload","defaultState","isLoggedIn","username","undefined","displayName","image","password","admin","likes","authReducer","state","arguments","length","action","LOGOUT_SUCCES","LOGIN_SUCCES","UPDATE_SUCCESS","UPDATE_ADMIN_STATUS","postId","newLikes"],"sources":["C:/Users/Ferhat/Social-Media-App-Project/wsfrontend/src/redux/authReducer.js"],"sourcesContent":["import * as ACTIONS from \"./Constants\";\r\n\r\nexport const saveLikedPostsToStorage = (likedPosts) => {\r\n  localStorage.setItem(\"likedPosts\", JSON.stringify(likedPosts));\r\n};\r\n\r\nconst loadLikedPostsFromStorage = () => {\r\n  const likedPosts = localStorage.getItem(\"likedPosts\");\r\n  return likedPosts ? JSON.parse(likedPosts) : {};\r\n};\r\nuseEffect(() => {\r\n  const likedPosts = loadLikedPostsFromStorage();\r\n  dispatch({ type: 'LIKE_POSTS_FROM_STORAGE', payload: likedPosts });\r\n}, []);\r\n\r\nconst defaultState = {\r\n  isLoggedIn: false,\r\n  username: undefined,\r\n  displayName: undefined,\r\n  image: undefined,\r\n  password: undefined,\r\n  admin: undefined,\r\n  likes: loadLikedPostsFromStorage(), \r\n};\r\n\r\nconst authReducer = (state = { ...defaultState }, action) => {\r\n  if (action.type === ACTIONS.LOGOUT_SUCCES) {\r\n    return defaultState;\r\n  } else if (action.type === ACTIONS.LOGIN_SUCCES) {\r\n    return {\r\n      ...action.payload,\r\n      isLoggedIn: true,\r\n      likes: state.likes,\r\n    };\r\n  } else if (action.type === ACTIONS.UPDATE_SUCCESS) {\r\n    return { ...state, ...action.payload };\r\n  } else if (action.type === ACTIONS.UPDATE_ADMIN_STATUS) {\r\n    return { ...state, admin: action.payload.admin };\r\n  } else if (action.type === \"LIKE_POST\") {\r\n    const postId = action.payload;\r\n    return {\r\n      ...state,\r\n      likes: {\r\n        ...state.likes,\r\n        [postId]: true, // Beğeni durumunu güncelleyin\r\n      },\r\n    };\r\n  } else if (action.type === \"UNLIKE_POST\") {\r\n    const postId = action.payload;\r\n    const newLikes = { ...state.likes };\r\n    delete newLikes[postId];\r\n    return { ...state, likes: newLikes };\r\n  } \r\n  return state;\r\n};\r\n\r\nexport default authReducer;\r\n"],"mappings":"AAAA,OAAO,KAAKA,OAAO,MAAM,aAAa;AAEtC,OAAO,MAAMC,uBAAuB,GAAIC,UAAU,IAAK;EACrDC,YAAY,CAACC,OAAO,CAAC,YAAY,EAAEC,IAAI,CAACC,SAAS,CAACJ,UAAU,CAAC,CAAC;AAChE,CAAC;AAED,MAAMK,yBAAyB,GAAGA,CAAA,KAAM;EACtC,MAAML,UAAU,GAAGC,YAAY,CAACK,OAAO,CAAC,YAAY,CAAC;EACrD,OAAON,UAAU,GAAGG,IAAI,CAACI,KAAK,CAACP,UAAU,CAAC,GAAG,CAAC,CAAC;AACjD,CAAC;AACDQ,SAAS,CAAC,MAAM;EACd,MAAMR,UAAU,GAAGK,yBAAyB,CAAC,CAAC;EAC9CI,QAAQ,CAAC;IAAEC,IAAI,EAAE,yBAAyB;IAAEC,OAAO,EAAEX;EAAW,CAAC,CAAC;AACpE,CAAC,EAAE,EAAE,CAAC;AAEN,MAAMY,YAAY,GAAG;EACnBC,UAAU,EAAE,KAAK;EACjBC,QAAQ,EAAEC,SAAS;EACnBC,WAAW,EAAED,SAAS;EACtBE,KAAK,EAAEF,SAAS;EAChBG,QAAQ,EAAEH,SAAS;EACnBI,KAAK,EAAEJ,SAAS;EAChBK,KAAK,EAAEf,yBAAyB,CAAC;AACnC,CAAC;AAED,MAAMgB,WAAW,GAAG,SAAAA,CAAA,EAAyC;EAAA,IAAxCC,KAAK,GAAAC,SAAA,CAAAC,MAAA,QAAAD,SAAA,QAAAR,SAAA,GAAAQ,SAAA,MAAG;IAAE,GAAGX;EAAa,CAAC;EAAA,IAAEa,MAAM,GAAAF,SAAA,CAAAC,MAAA,OAAAD,SAAA,MAAAR,SAAA;EACtD,IAAIU,MAAM,CAACf,IAAI,KAAKZ,OAAO,CAAC4B,aAAa,EAAE;IACzC,OAAOd,YAAY;EACrB,CAAC,MAAM,IAAIa,MAAM,CAACf,IAAI,KAAKZ,OAAO,CAAC6B,YAAY,EAAE;IAC/C,OAAO;MACL,GAAGF,MAAM,CAACd,OAAO;MACjBE,UAAU,EAAE,IAAI;MAChBO,KAAK,EAAEE,KAAK,CAACF;IACf,CAAC;EACH,CAAC,MAAM,IAAIK,MAAM,CAACf,IAAI,KAAKZ,OAAO,CAAC8B,cAAc,EAAE;IACjD,OAAO;MAAE,GAAGN,KAAK;MAAE,GAAGG,MAAM,CAACd;IAAQ,CAAC;EACxC,CAAC,MAAM,IAAIc,MAAM,CAACf,IAAI,KAAKZ,OAAO,CAAC+B,mBAAmB,EAAE;IACtD,OAAO;MAAE,GAAGP,KAAK;MAAEH,KAAK,EAAEM,MAAM,CAACd,OAAO,CAACQ;IAAM,CAAC;EAClD,CAAC,MAAM,IAAIM,MAAM,CAACf,IAAI,KAAK,WAAW,EAAE;IACtC,MAAMoB,MAAM,GAAGL,MAAM,CAACd,OAAO;IAC7B,OAAO;MACL,GAAGW,KAAK;MACRF,KAAK,EAAE;QACL,GAAGE,KAAK,CAACF,KAAK;QACd,CAACU,MAAM,GAAG,IAAI,CAAE;MAClB;IACF,CAAC;EACH,CAAC,MAAM,IAAIL,MAAM,CAACf,IAAI,KAAK,aAAa,EAAE;IACxC,MAAMoB,MAAM,GAAGL,MAAM,CAACd,OAAO;IAC7B,MAAMoB,QAAQ,GAAG;MAAE,GAAGT,KAAK,CAACF;IAAM,CAAC;IACnC,OAAOW,QAAQ,CAACD,MAAM,CAAC;IACvB,OAAO;MAAE,GAAGR,KAAK;MAAEF,KAAK,EAAEW;IAAS,CAAC;EACtC;EACA,OAAOT,KAAK;AACd,CAAC;AAED,eAAeD,WAAW"},"metadata":{},"sourceType":"module","externalDependencies":[]}