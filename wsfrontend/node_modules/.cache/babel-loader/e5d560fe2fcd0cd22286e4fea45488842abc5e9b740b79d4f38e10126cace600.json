{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ferhat\\\\ws-project\\\\wsfrontend\\\\src\\\\pages\\\\LoginPage.js\";\nimport React, { Component } from \"react\";\nimport Input from \"../components/Input\";\nimport { withTranslation } from \"react-i18next\";\nimport { login } from \"../api/apiCalls\";\nimport ButtonWithProgress from \"./ButtonWithProgress\";\nimport ApiProgress, { withApiProgress } from \"../shared/ApiProgress\";\nimport { Authentication } from \"../shared/AuthenticationContext\";\nimport background from \"../assets/background1.jpg\";\nimport styled from \"styled-components\";\nimport user from \"../assets/vector.png\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nclass LoginPage extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      username: null,\n      password: null,\n      error: null\n    };\n    this.onChange = event => {\n      const {\n        name,\n        value\n      } = event.target;\n      this.setState({\n        [name]: value,\n        error: null\n      });\n    };\n    this.onClickLogin = async event => {\n      event.preventDefault();\n      const {\n        username,\n        password\n      } = this.state;\n      const {\n        onLoginSuccess\n      } = this.context;\n      const creds = {\n        username,\n        password\n      };\n      const {\n        push\n      } = this.props.history;\n      this.setState({\n        error: null\n      });\n      try {\n        const response = await login(creds);\n        push(\"/\");\n        const authState = {\n          ...response.data,\n          password\n        };\n        onLoginSuccess(authState);\n      } catch (apiError) {\n        this.setState({\n          error: apiError.response.data.message\n        });\n      }\n    };\n  }\n  render() {\n    const {\n      t,\n      pendingApiCall\n    } = this.props;\n    const {\n      username,\n      password,\n      error\n    } = this.state;\n    const buttonEnabled = username && password;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        //backgroundImage: `url(${background})`,\n        backgroundSize: \"cover\",\n        backgroundPosition: \"center center\",\n        height: \"85vh\",\n        display: \"flex\",\n        alignItems: \"center\",\n        justifyContent: \"center\",\n        width: \"100%\",\n        backgroundColor: \"rgba(192, 192, 192, 1)\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        style: {\n          display: \"block\",\n          alignItems: \"center\",\n          justifyContent: \"center\",\n          backgroundColor: \"rgba(255, 255, 255, 0.8)\",\n          padding: \"30px\",\n          borderRadius: \"20px\",\n          width: \"500px\",\n          height: \"500px\"\n        },\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"text-center mt-1\",\n            children: t(\"LOGIN\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n            src: user,\n            style: {\n              display: \"inline-block\",\n              height: \"100px\",\n              width: \"100px\",\n              position: \"relative\",\n              borderRadius: \"50px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            label: t(\"Username\"),\n            name: \"username\",\n            onChange: this.onChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Input, {\n            label: t(\"Password\"),\n            name: \"password\",\n            type: \"password\",\n            onChange: this.onChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 13\n          }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"alert alert-danger mt-3\",\n            children: error\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 115,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: \"https://github.com/FerhatAkalan\",\n            target: \"_blank\",\n            rel: \"noopener noreferrer\",\n            className: \"text-decoration-none\",\n            children: t(\"Forget Password?\")\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center mt-3\",\n            children: /*#__PURE__*/_jsxDEV(ButtonWithProgress, {\n              onClick: this.onClickLogin,\n              disabled: !buttonEnabled || pendingApiCall,\n              pendingApiCall: pendingApiCall,\n              text: t(\"Login\")\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 125,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 7\n    }, this);\n  }\n}\nLoginPage.contextType = Authentication;\nconst LoginPageWithTranslation = withTranslation()(LoginPage);\nexport default _c = withApiProgress(LoginPageWithTranslation, \"/api/1.0/auth\");\nvar _c;\n$RefreshReg$(_c, \"%default%\");","map":{"version":3,"names":["React","Component","Input","withTranslation","login","ButtonWithProgress","ApiProgress","withApiProgress","Authentication","background","styled","user","jsxDEV","_jsxDEV","LoginPage","constructor","arguments","state","username","password","error","onChange","event","name","value","target","setState","onClickLogin","preventDefault","onLoginSuccess","context","creds","push","props","history","response","authState","data","apiError","message","render","t","pendingApiCall","buttonEnabled","style","backgroundSize","backgroundPosition","height","display","alignItems","justifyContent","width","backgroundColor","children","className","padding","borderRadius","fileName","_jsxFileName","lineNumber","columnNumber","src","position","label","type","href","rel","onClick","disabled","text","contextType","LoginPageWithTranslation","_c","$RefreshReg$"],"sources":["C:/Users/Ferhat/ws-project/wsfrontend/src/pages/LoginPage.js"],"sourcesContent":["import React, { Component } from \"react\";\r\nimport Input from \"../components/Input\";\r\nimport { withTranslation } from \"react-i18next\";\r\nimport { login } from \"../api/apiCalls\";\r\nimport ButtonWithProgress from \"./ButtonWithProgress\";\r\nimport ApiProgress, { withApiProgress } from \"../shared/ApiProgress\";\r\nimport { Authentication } from \"../shared/AuthenticationContext\";\r\nimport background from \"../assets/background1.jpg\";\r\nimport styled from \"styled-components\";\r\nimport user from \"../assets/vector.png\";\r\nclass LoginPage extends Component {\r\n  static contextType = Authentication;\r\n  state = {\r\n    username: null,\r\n    password: null,\r\n    error: null,\r\n  };\r\n\r\n  onChange = (event) => {\r\n    const { name, value } = event.target;\r\n    this.setState({\r\n      [name]: value,\r\n      error: null,\r\n    });\r\n  };\r\n\r\n  onClickLogin = async (event) => {\r\n    event.preventDefault();\r\n    const { username, password } = this.state;\r\n    const { onLoginSuccess } = this.context;\r\n    const creds = {\r\n      username,\r\n      password,\r\n    };\r\n\r\n    const { push } = this.props.history;\r\n\r\n    this.setState({\r\n      error: null,\r\n    });\r\n    try {\r\n      const response = await login(creds);\r\n      push(\"/\");\r\n\r\n      const authState = {\r\n        ...response.data,\r\n        password,\r\n      };\r\n\r\n      onLoginSuccess(authState);\r\n    } catch (apiError) {\r\n      this.setState({\r\n        error: apiError.response.data.message,\r\n      });\r\n    }\r\n  };\r\n\r\n  render() {\r\n    const { t, pendingApiCall } = this.props;\r\n    const { username, password, error } = this.state;\r\n    const buttonEnabled = username && password;\r\n    return (\r\n      <div\r\n        style={{\r\n          //backgroundImage: `url(${background})`,\r\n          backgroundSize: \"cover\",\r\n          backgroundPosition: \"center center\",\r\n          height: \"85vh\",\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"center\",\r\n          width: \"100%\",\r\n        backgroundColor: \"rgba(192, 192, 192, 1)\"\r\n\r\n\r\n        }}\r\n      >\r\n        <div\r\n          className=\"container\"\r\n          style={{\r\n            display: \"block\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            backgroundColor: \"rgba(255, 255, 255, 0.8)\",\r\n            padding: \"30px\",\r\n            borderRadius: \"20px\",\r\n            width: \"500px\",\r\n            height: \"500px\",\r\n          }}\r\n        >\r\n          <form>\r\n            <h1 className=\"text-center mt-1\">{t(\"LOGIN\")}</h1>\r\n            <img\r\n              src={user}\r\n              style={{\r\n                display:\"inline-block\",\r\n                height:\"100px\",\r\n                width:\"100px\",\r\n                position:\"relative\",\r\n                borderRadius:\"50px\",\r\n      \r\n              }}\r\n            ></img>\r\n            <Input\r\n              label={t(\"Username\")}\r\n              name=\"username\"\r\n              onChange={this.onChange}\r\n            />\r\n            <Input \r\n              label={t(\"Password\")}\r\n              name=\"password\"\r\n              type=\"password\"\r\n              onChange={this.onChange}\r\n            />\r\n            {error && <div className=\"alert alert-danger mt-3\">{error}</div>}\r\n            \r\n            <a\r\n              href=\"https://github.com/FerhatAkalan\"\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              className=\"text-decoration-none\"\r\n            >\r\n              {t(\"Forget Password?\")}\r\n            </a>\r\n            <div className=\"text-center mt-3\">\r\n              <ButtonWithProgress\r\n                onClick={this.onClickLogin}\r\n                disabled={!buttonEnabled || pendingApiCall}\r\n                pendingApiCall={pendingApiCall}\r\n                text={t(\"Login\")}\r\n              />\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nconst LoginPageWithTranslation = withTranslation()(LoginPage);\r\nexport default withApiProgress(LoginPageWithTranslation, \"/api/1.0/auth\");\r\n"],"mappings":";AAAA,OAAOA,KAAK,IAAIC,SAAS,QAAQ,OAAO;AACxC,OAAOC,KAAK,MAAM,qBAAqB;AACvC,SAASC,eAAe,QAAQ,eAAe;AAC/C,SAASC,KAAK,QAAQ,iBAAiB;AACvC,OAAOC,kBAAkB,MAAM,sBAAsB;AACrD,OAAOC,WAAW,IAAIC,eAAe,QAAQ,uBAAuB;AACpE,SAASC,cAAc,QAAQ,iCAAiC;AAChE,OAAOC,UAAU,MAAM,2BAA2B;AAClD,OAAOC,MAAM,MAAM,mBAAmB;AACtC,OAAOC,IAAI,MAAM,sBAAsB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AACxC,MAAMC,SAAS,SAASb,SAAS,CAAC;EAAAc,YAAA;IAAA,SAAAC,SAAA;IAAA,KAEhCC,KAAK,GAAG;MACNC,QAAQ,EAAE,IAAI;MACdC,QAAQ,EAAE,IAAI;MACdC,KAAK,EAAE;IACT,CAAC;IAAA,KAEDC,QAAQ,GAAIC,KAAK,IAAK;MACpB,MAAM;QAAEC,IAAI;QAAEC;MAAM,CAAC,GAAGF,KAAK,CAACG,MAAM;MACpC,IAAI,CAACC,QAAQ,CAAC;QACZ,CAACH,IAAI,GAAGC,KAAK;QACbJ,KAAK,EAAE;MACT,CAAC,CAAC;IACJ,CAAC;IAAA,KAEDO,YAAY,GAAG,MAAOL,KAAK,IAAK;MAC9BA,KAAK,CAACM,cAAc,CAAC,CAAC;MACtB,MAAM;QAAEV,QAAQ;QAAEC;MAAS,CAAC,GAAG,IAAI,CAACF,KAAK;MACzC,MAAM;QAAEY;MAAe,CAAC,GAAG,IAAI,CAACC,OAAO;MACvC,MAAMC,KAAK,GAAG;QACZb,QAAQ;QACRC;MACF,CAAC;MAED,MAAM;QAAEa;MAAK,CAAC,GAAG,IAAI,CAACC,KAAK,CAACC,OAAO;MAEnC,IAAI,CAACR,QAAQ,CAAC;QACZN,KAAK,EAAE;MACT,CAAC,CAAC;MACF,IAAI;QACF,MAAMe,QAAQ,GAAG,MAAM/B,KAAK,CAAC2B,KAAK,CAAC;QACnCC,IAAI,CAAC,GAAG,CAAC;QAET,MAAMI,SAAS,GAAG;UAChB,GAAGD,QAAQ,CAACE,IAAI;UAChBlB;QACF,CAAC;QAEDU,cAAc,CAACO,SAAS,CAAC;MAC3B,CAAC,CAAC,OAAOE,QAAQ,EAAE;QACjB,IAAI,CAACZ,QAAQ,CAAC;UACZN,KAAK,EAAEkB,QAAQ,CAACH,QAAQ,CAACE,IAAI,CAACE;QAChC,CAAC,CAAC;MACJ;IACF,CAAC;EAAA;EAEDC,MAAMA,CAAA,EAAG;IACP,MAAM;MAAEC,CAAC;MAAEC;IAAe,CAAC,GAAG,IAAI,CAACT,KAAK;IACxC,MAAM;MAAEf,QAAQ;MAAEC,QAAQ;MAAEC;IAAM,CAAC,GAAG,IAAI,CAACH,KAAK;IAChD,MAAM0B,aAAa,GAAGzB,QAAQ,IAAIC,QAAQ;IAC1C,oBACEN,OAAA;MACE+B,KAAK,EAAE;QACL;QACAC,cAAc,EAAE,OAAO;QACvBC,kBAAkB,EAAE,eAAe;QACnCC,MAAM,EAAE,MAAM;QACdC,OAAO,EAAE,MAAM;QACfC,UAAU,EAAE,QAAQ;QACpBC,cAAc,EAAE,QAAQ;QACxBC,KAAK,EAAE,MAAM;QACfC,eAAe,EAAE;MAGjB,CAAE;MAAAC,QAAA,eAEFxC,OAAA;QACEyC,SAAS,EAAC,WAAW;QACrBV,KAAK,EAAE;UACLI,OAAO,EAAE,OAAO;UAChBC,UAAU,EAAE,QAAQ;UACpBC,cAAc,EAAE,QAAQ;UACxBE,eAAe,EAAE,0BAA0B;UAC3CG,OAAO,EAAE,MAAM;UACfC,YAAY,EAAE,MAAM;UACpBL,KAAK,EAAE,OAAO;UACdJ,MAAM,EAAE;QACV,CAAE;QAAAM,QAAA,eAEFxC,OAAA;UAAAwC,QAAA,gBACExC,OAAA;YAAIyC,SAAS,EAAC,kBAAkB;YAAAD,QAAA,EAAEZ,CAAC,CAAC,OAAO;UAAC;YAAAgB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAK,CAAC,eAClD/C,OAAA;YACEgD,GAAG,EAAElD,IAAK;YACViC,KAAK,EAAE;cACLI,OAAO,EAAC,cAAc;cACtBD,MAAM,EAAC,OAAO;cACdI,KAAK,EAAC,OAAO;cACbW,QAAQ,EAAC,UAAU;cACnBN,YAAY,EAAC;YAEf;UAAE;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACE,CAAC,eACP/C,OAAA,CAACX,KAAK;YACJ6D,KAAK,EAAEtB,CAAC,CAAC,UAAU,CAAE;YACrBlB,IAAI,EAAC,UAAU;YACfF,QAAQ,EAAE,IAAI,CAACA;UAAS;YAAAoC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzB,CAAC,eACF/C,OAAA,CAACX,KAAK;YACJ6D,KAAK,EAAEtB,CAAC,CAAC,UAAU,CAAE;YACrBlB,IAAI,EAAC,UAAU;YACfyC,IAAI,EAAC,UAAU;YACf3C,QAAQ,EAAE,IAAI,CAACA;UAAS;YAAAoC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzB,CAAC,EACDxC,KAAK,iBAAIP,OAAA;YAAKyC,SAAS,EAAC,yBAAyB;YAAAD,QAAA,EAAEjC;UAAK;YAAAqC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAEhE/C,OAAA;YACEoD,IAAI,EAAC,iCAAiC;YACtCxC,MAAM,EAAC,QAAQ;YACfyC,GAAG,EAAC,qBAAqB;YACzBZ,SAAS,EAAC,sBAAsB;YAAAD,QAAA,EAE/BZ,CAAC,CAAC,kBAAkB;UAAC;YAAAgB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACrB,CAAC,eACJ/C,OAAA;YAAKyC,SAAS,EAAC,kBAAkB;YAAAD,QAAA,eAC/BxC,OAAA,CAACR,kBAAkB;cACjB8D,OAAO,EAAE,IAAI,CAACxC,YAAa;cAC3ByC,QAAQ,EAAE,CAACzB,aAAa,IAAID,cAAe;cAC3CA,cAAc,EAAEA,cAAe;cAC/B2B,IAAI,EAAE5B,CAAC,CAAC,OAAO;YAAE;cAAAgB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAClB;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACC,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACF;MAAC;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACJ;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACH,CAAC;EAEV;AACF;AA/HM9C,SAAS,CACNwD,WAAW,GAAG9D,cAAc;AA+HrC,MAAM+D,wBAAwB,GAAGpE,eAAe,CAAC,CAAC,CAACW,SAAS,CAAC;AAC7D,eAAA0D,EAAA,GAAejE,eAAe,CAACgE,wBAAwB,EAAE,eAAe,CAAC;AAAC,IAAAC,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}