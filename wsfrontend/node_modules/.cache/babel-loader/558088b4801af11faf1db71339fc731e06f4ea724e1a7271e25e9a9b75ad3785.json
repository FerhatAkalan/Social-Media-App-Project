{"ast":null,"code":"var _s = $RefreshSig$();\nimport * as ACTIONS from \"./Constants\";\nimport { login, signup } from \"../api/apiCalls\";\nimport { useDispatch } from \"react-redux\";\nexport const logoutSucces = () => {\n  return {\n    type: ACTIONS.LOGOUT_SUCCES\n  };\n};\nexport const loginSuccess = authState => {\n  _s();\n  return {\n    type: ACTIONS.LOGIN_SUCCES,\n    payload: authState\n  };\n  const dispatch = useDispatch();\n  const isAdmin =\n  // isAdmin rolünü alın\n  dispatch(setAdmin(isAdmin));\n};\n_s(loginSuccess, \"rgTLoBID190wEKCp9+G8W6F7A5M=\", false, function () {\n  return [useDispatch];\n});\nexport const updateSuccess = _ref => {\n  let {\n    displayName,\n    image\n  } = _ref;\n  return {\n    type: ACTIONS.UPDATE_SUCCESS,\n    payload: {\n      displayName,\n      image\n    }\n  };\n};\nexport const loginHandler = credentials => {\n  return async function (dispatch) {\n    const response = await login(credentials);\n    const authState = {\n      ...response.data,\n      password: credentials.password\n    };\n    dispatch(loginSuccess(authState));\n    return response;\n  };\n};\nexport const signupHandler = user => {\n  return async function (dispatch) {\n    const response = await signup(user);\n    await dispatch(loginHandler(user));\n    return response;\n  };\n};\nexport const setAdmin = isAdmin => {\n  return {\n    type: ACTIONS.SET_ADMIN,\n    payload: isAdmin\n  };\n};","map":{"version":3,"names":["ACTIONS","login","signup","useDispatch","logoutSucces","type","LOGOUT_SUCCES","loginSuccess","authState","_s","LOGIN_SUCCES","payload","dispatch","isAdmin","setAdmin","updateSuccess","_ref","displayName","image","UPDATE_SUCCESS","loginHandler","credentials","response","data","password","signupHandler","user","SET_ADMIN"],"sources":["C:/Users/Ferhat/ws-project/wsfrontend/src/redux/authActions.js"],"sourcesContent":["import * as ACTIONS from \"./Constants\";\r\nimport { login, signup } from \"../api/apiCalls\";\r\nimport { useDispatch } from \"react-redux\";\r\n\r\nexport const logoutSucces = () => {\r\n  return {\r\n    type: ACTIONS.LOGOUT_SUCCES,\r\n  };\r\n};\r\n\r\nexport const loginSuccess = (authState) => {\r\n  return {\r\n    type: ACTIONS.LOGIN_SUCCES,\r\n    payload: authState,\r\n  };\r\n  const dispatch = useDispatch();\r\n  const isAdmin = // isAdmin rolünü alın\r\n  dispatch(setAdmin(isAdmin));\r\n};\r\n\r\nexport const updateSuccess = ({ displayName, image }) => {\r\n  return {\r\n    type: ACTIONS.UPDATE_SUCCESS,\r\n    payload: {\r\n      displayName,\r\n      image,\r\n    },\r\n  };\r\n};\r\n\r\nexport const loginHandler = (credentials) => {\r\n  return async function (dispatch) {\r\n    const response = await login(credentials);\r\n    const authState = {\r\n      ...response.data,\r\n      password: credentials.password,\r\n    };\r\n    dispatch(loginSuccess(authState));\r\n    return response;\r\n  };\r\n};\r\n\r\nexport const signupHandler = (user) => {\r\n  return async function (dispatch) {\r\n    const response = await signup(user);\r\n    await dispatch(loginHandler(user));\r\n    return response;\r\n  };\r\n};\r\n\r\nexport const setAdmin = (isAdmin) => {\r\n  return {\r\n    type: ACTIONS.SET_ADMIN,\r\n    payload: isAdmin,\r\n  };\r\n};"],"mappings":";AAAA,OAAO,KAAKA,OAAO,MAAM,aAAa;AACtC,SAASC,KAAK,EAAEC,MAAM,QAAQ,iBAAiB;AAC/C,SAASC,WAAW,QAAQ,aAAa;AAEzC,OAAO,MAAMC,YAAY,GAAGA,CAAA,KAAM;EAChC,OAAO;IACLC,IAAI,EAAEL,OAAO,CAACM;EAChB,CAAC;AACH,CAAC;AAED,OAAO,MAAMC,YAAY,GAAIC,SAAS,IAAK;EAAAC,EAAA;EACzC,OAAO;IACLJ,IAAI,EAAEL,OAAO,CAACU,YAAY;IAC1BC,OAAO,EAAEH;EACX,CAAC;EACD,MAAMI,QAAQ,GAAGT,WAAW,CAAC,CAAC;EAC9B,MAAMU,OAAO;EAAG;EAChBD,QAAQ,CAACE,QAAQ,CAACD,OAAO,CAAC,CAAC;AAC7B,CAAC;AAACJ,EAAA,CARWF,YAAY;EAAA,QAKNJ,WAAW;AAAA;AAK9B,OAAO,MAAMY,aAAa,GAAGC,IAAA,IAA4B;EAAA,IAA3B;IAAEC,WAAW;IAAEC;EAAM,CAAC,GAAAF,IAAA;EAClD,OAAO;IACLX,IAAI,EAAEL,OAAO,CAACmB,cAAc;IAC5BR,OAAO,EAAE;MACPM,WAAW;MACXC;IACF;EACF,CAAC;AACH,CAAC;AAED,OAAO,MAAME,YAAY,GAAIC,WAAW,IAAK;EAC3C,OAAO,gBAAgBT,QAAQ,EAAE;IAC/B,MAAMU,QAAQ,GAAG,MAAMrB,KAAK,CAACoB,WAAW,CAAC;IACzC,MAAMb,SAAS,GAAG;MAChB,GAAGc,QAAQ,CAACC,IAAI;MAChBC,QAAQ,EAAEH,WAAW,CAACG;IACxB,CAAC;IACDZ,QAAQ,CAACL,YAAY,CAACC,SAAS,CAAC,CAAC;IACjC,OAAOc,QAAQ;EACjB,CAAC;AACH,CAAC;AAED,OAAO,MAAMG,aAAa,GAAIC,IAAI,IAAK;EACrC,OAAO,gBAAgBd,QAAQ,EAAE;IAC/B,MAAMU,QAAQ,GAAG,MAAMpB,MAAM,CAACwB,IAAI,CAAC;IACnC,MAAMd,QAAQ,CAACQ,YAAY,CAACM,IAAI,CAAC,CAAC;IAClC,OAAOJ,QAAQ;EACjB,CAAC;AACH,CAAC;AAED,OAAO,MAAMR,QAAQ,GAAID,OAAO,IAAK;EACnC,OAAO;IACLR,IAAI,EAAEL,OAAO,CAAC2B,SAAS;IACvBhB,OAAO,EAAEE;EACX,CAAC;AACH,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}